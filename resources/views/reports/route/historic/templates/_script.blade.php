<script type="application/javascript">
    'use strict';

    class ReportRouteHistoric {
        constructor(map) {
            this.map = map;

            this.currentLocation = null;
            this.historicLocations = [];
            this.markerBus = null;

            this.historicPath = null;
            this.kmlLayer = null;
        }

        processHistoricReportData(report) {
            $('.map-report-historic').css('height', (window.innerHeight - 200));

            this.clearMap();

            $.each(report.historic, (i, reportLocation) => {
                let historicInfoWindow = this.createInfoWindow(reportLocation);
                let marker = this.addHistoricMarker(reportLocation);
                marker.addListener('click', function () {
                    historicInfoWindow.open(this.map, marker);
                    $('.historic-info-map').parent().css('overflow', 'hidden');
                });

                this.historicLocations.push({
                    marker: marker,
                    shadowMarker: this.addShadowMarker(reportLocation),
                    infoWindow: historicInfoWindow,
                    reportLocation: reportLocation
                });
            });

            this.historicPath = new google.maps.Polyline({
                path: [],
                geodesic: true,
                strokeColor: 'rgba(118,0,255,0.58)',
                strokeOpacity: 1.0,
                strokeWeight: 5,
                map: this.map
            });

            const kmzUrl = $('#route-report').find('option:selected').data('kmz-url');
            if (kmzUrl) {
                this.kmlLayer = new google.maps.KmlLayer({
                    url: kmzUrl,
                    map: this.map
                });
            }

            $('.time-from').text(report.from);
            $('.time-to').text(report.to);
            $('.total').text(report.total);

            $('#range_reports').data("ionRangeSlider").update({
                min: 0,
                max: report.total,
                from: 0
            });

            if (this.historicLocations.length) {
                this.updateBusMarker(0);
            }else{
                gwarning("@lang("No registers found")");
            }

            if (this.markerBus) this.map.setCenter(this.markerBus.getPosition());
        }

        addHistoricMarker(r) {
            return new google.maps.Marker({
                title: r.vehicleStatus.status + " " + r.time,
                map: null,
                icon: '{{ asset('img/point-map-on-road.png') }}',
                position: {lat: parseFloat(r.latitude), lng: parseFloat(r.longitude)}
            });
        }

        addShadowMarker(r) {
            return new google.maps.Marker({
                title: r.vehicleStatus.status + " " + r.time,
                map: this.map,
                icon: '{{ asset('img/point-map-blue.png') }}',
                position: {lat: parseFloat(r.latitude), lng: parseFloat(r.longitude)}
            });
        }

        clearMap() {
            this.historicLocations.forEach((historicLocation) => {
                historicLocation.marker.setMap(null);
                historicLocation.shadowMarker.setMap(null);
            });

            this.historicLocations = [];

            if (this.markerBus) {
                this.markerBus.setMap(null);
                this.markerBus = null;
            }

            if (this.kmlLayer) {
                this.kmlLayer.setMap(null);
                this.kmlLayer = null;
            }
        }

        paintHistoricPathTo(index) {
            let path = this.historicPath.getPath();

            this.historicLocations.forEach((historicLocation, i) => {
                if (i <= index) {
                    historicLocation.marker.setMap(this.map);
                    historicLocation.shadowMarker.setMap(null);

                    if(!path.getAt(i)){
                        path.insertAt(i, historicLocation.marker.position);
                    }
                } else {
                    historicLocation.marker.setMap(null);
                    historicLocation.shadowMarker.setMap(this.map);

                    path.removeAt(i);
                }
            });

            this.historicPath.setPath(path);
        }

        updateBusMarker(index) {
            const historicLocation = this.historicLocations[index];
            if (!historicLocation) return false;

            this.paintHistoricPathTo(index);

            const marker = historicLocation.marker;
            const infoWindow = historicLocation.infoWindow;
            const reportLocation = historicLocation.reportLocation;

            let rotation = parseInt(reportLocation.orientation);

            const icon = {
                path: 'M281.507 1.777 C 281.507 2.342,281.441 2.539,281.253 2.539 C 281.113 2.539,280.999 2.420,280.999 2.275 C 280.999 2.130,281.075 2.058,281.168 2.116 C 281.261 2.173,281.337 2.140,281.337 2.041 C 281.337 1.943,281.223 1.862,281.083 1.862 C 280.942 1.862,280.829 2.013,280.829 2.201 C 280.829 2.426,280.717 2.539,280.491 2.539 C 280.209 2.539,280.152 2.652,280.152 3.216 C 280.152 3.781,280.096 3.893,279.814 3.893 C 279.628 3.893,279.475 3.978,279.475 4.082 C 279.475 4.188,279.625 4.232,279.814 4.183 C 280.134 4.099,280.152 4.178,280.152 5.602 C 280.152 7.039,279.888 7.644,279.587 6.898 C 279.536 6.772,279.497 6.806,279.489 6.983 C 279.480 7.170,279.599 7.279,279.814 7.279 C 280.060 7.279,280.152 7.392,280.152 7.692 C 280.152 8.015,280.227 8.091,280.491 8.041 C 280.844 7.973,280.972 8.356,280.660 8.548 C 280.567 8.606,280.491 8.572,280.491 8.474 C 280.491 8.375,280.415 8.295,280.322 8.295 C 280.229 8.295,280.152 8.409,280.152 8.548 C 280.152 8.690,280.303 8.802,280.491 8.802 C 280.773 8.802,280.829 8.915,280.829 9.479 C 280.829 10.044,280.886 10.157,281.168 10.157 C 281.450 10.157,281.507 10.269,281.507 10.834 C 281.507 11.398,281.563 11.511,281.845 11.511 C 282.114 11.511,282.184 11.625,282.186 12.061 C 282.188 12.445,282.234 12.540,282.338 12.375 C 282.807 11.635,283.330 12.930,283.122 14.316 C 283.023 14.973,282.952 15.082,282.637 15.057 C 279.165 14.782,8.802 15.115,8.802 15.395 C 8.802 15.666,8.660 15.735,7.998 15.788 L 7.194 15.851 7.998 15.881 C 9.089 15.923,9.166 16.420,8.081 16.420 C 7.544 16.420,7.307 16.506,7.149 16.758 C 7.032 16.946,6.754 17.097,6.527 17.097 C 6.254 17.097,5.734 17.463,4.963 18.199 C 4.328 18.805,3.694 19.291,3.555 19.280 C 2.852 19.221,2.539 19.315,2.539 19.585 C 2.539 19.809,2.584 19.828,2.742 19.670 C 3.019 19.393,3.216 19.415,3.216 19.721 C 3.216 19.862,3.066 19.975,2.878 19.975 C 2.652 19.975,2.539 20.087,2.539 20.313 C 2.539 20.539,2.426 20.652,2.201 20.652 C 2.014 20.652,1.862 20.737,1.862 20.841 C 1.862 20.948,2.012 20.990,2.210 20.939 C 2.472 20.870,2.544 20.918,2.501 21.130 C 2.468 21.289,2.315 21.392,2.152 21.364 C 1.897 21.320,1.862 21.488,1.862 22.760 C 1.862 24.190,1.857 24.207,1.439 24.207 L 1.016 24.207 1.016 87.431 L 1.016 150.656 1.397 150.644 C 1.671 150.635,1.707 150.600,1.523 150.517 C 1.139 150.343,1.139 149.979,1.523 149.979 C 1.844 149.979,1.862 150.092,1.862 152.095 C 1.862 154.098,1.880 154.211,2.201 154.211 C 2.426 154.211,2.539 154.324,2.539 154.549 C 2.539 154.775,2.652 154.888,2.878 154.888 C 3.066 154.888,3.216 155.001,3.216 155.142 C 3.216 155.416,2.870 155.416,2.669 155.142 C 2.598 155.046,2.543 155.101,2.542 155.269 C 2.539 155.545,2.895 155.658,3.514 155.577 C 3.631 155.562,4.240 156.047,4.868 156.656 C 5.585 157.350,6.152 157.763,6.392 157.764 C 6.602 157.765,6.905 157.918,7.064 158.104 C 7.270 158.345,7.564 158.443,8.078 158.443 C 9.145 158.443,9.078 158.910,7.998 158.995 L 7.194 159.059 7.998 159.089 C 8.679 159.115,8.802 159.172,8.802 159.458 C 8.802 159.797,8.915 159.797,145.479 159.797 C 254.662 159.797,282.173 159.839,282.241 160.008 C 282.309 160.178,282.329 160.178,282.340 160.008 C 282.378 159.393,283.014 159.829,283.121 160.545 C 283.311 161.809,283.078 162.723,282.589 162.630 C 282.254 162.566,282.184 162.622,282.184 162.952 C 282.184 163.239,282.088 163.352,281.845 163.352 C 281.563 163.352,281.507 163.465,281.507 164.029 C 281.507 164.593,281.450 164.706,281.168 164.706 C 280.980 164.706,280.829 164.819,280.829 164.960 C 280.829 165.099,280.906 165.214,280.999 165.214 C 281.092 165.214,281.169 165.118,281.171 165.002 C 281.172 164.861,281.228 164.875,281.337 165.044 C 281.594 165.442,281.536 165.599,281.168 165.503 C 280.899 165.433,280.829 165.498,280.829 165.822 C 280.829 166.117,280.736 166.229,280.491 166.229 C 280.209 166.229,280.152 166.342,280.152 166.906 C 280.152 167.471,280.096 167.584,279.814 167.584 C 279.628 167.584,279.475 167.653,279.475 167.737 C 279.475 167.821,279.628 167.851,279.814 167.802 C 280.116 167.723,280.152 167.797,280.152 168.495 L 280.152 169.276 285.992 169.276 C 289.773 169.276,291.832 169.217,291.832 169.107 C 291.832 168.865,293.145 168.897,293.226 169.141 C 293.268 169.268,293.335 169.236,293.404 169.056 C 293.465 168.898,293.441 168.769,293.351 168.769 C 293.053 168.769,293.180 167.807,293.537 167.352 C 293.738 167.097,294.058 166.906,294.285 166.906 C 294.551 166.906,295.035 166.543,295.751 165.806 C 296.632 164.900,296.918 164.706,297.368 164.706 C 297.741 164.706,297.972 164.599,298.096 164.367 C 298.299 163.988,298.700 163.918,298.830 164.240 C 298.898 164.410,298.918 164.410,298.929 164.240 C 298.936 164.124,299.094 164.029,299.281 164.029 C 299.506 164.029,299.619 163.916,299.619 163.690 C 299.619 163.465,299.732 163.352,299.958 163.352 C 300.144 163.352,300.296 163.270,300.296 163.171 C 300.296 163.065,300.150 163.037,299.942 163.103 C 299.660 163.192,299.601 163.152,299.650 162.903 C 299.700 162.653,299.839 162.601,300.343 162.645 C 300.828 162.688,300.973 162.639,300.973 162.434 C 300.973 162.112,300.781 162.091,300.483 162.378 C 300.305 162.549,300.276 162.525,300.328 162.251 C 300.371 162.030,300.502 161.932,300.707 161.968 C 300.985 162.017,301.010 161.934,300.931 161.235 C 300.782 159.906,300.864 159.797,302.024 159.797 C 302.780 159.797,303.145 159.711,303.466 159.458 C 303.956 159.073,365.654 158.906,365.891 159.289 C 365.948 159.382,365.915 159.458,365.816 159.458 C 365.718 159.458,365.637 159.534,365.637 159.628 C 365.637 159.721,365.751 159.797,365.891 159.797 C 366.032 159.797,366.145 159.646,366.145 159.458 C 366.145 159.157,366.258 159.120,367.160 159.120 C 368.054 159.120,368.176 159.080,368.176 158.790 C 368.176 158.519,368.318 158.450,368.980 158.398 L 369.784 158.334 368.980 158.304 C 367.864 158.262,367.820 157.766,368.932 157.766 C 369.514 157.766,369.729 157.688,369.869 157.427 C 370.011 157.161,370.223 157.088,370.859 157.088 C 371.440 157.088,371.772 156.991,372.039 156.742 C 372.364 156.440,372.630 156.395,374.103 156.397 C 375.739 156.399,375.793 156.387,375.782 156.024 C 375.773 155.750,375.739 155.718,375.655 155.905 C 375.461 156.334,374.439 156.343,374.439 155.916 C 374.439 155.678,374.548 155.565,374.778 155.565 C 375.004 155.565,375.116 155.452,375.116 155.226 C 375.116 154.940,375.229 154.888,375.844 154.888 C 376.469 154.888,376.664 154.793,377.232 154.211 C 377.674 153.758,378.042 153.534,378.341 153.534 C 378.587 153.534,378.926 153.381,379.094 153.195 C 379.339 152.924,379.616 152.857,380.475 152.857 C 381.436 152.857,381.549 152.821,381.549 152.518 C 381.549 152.236,381.662 152.179,382.226 152.179 C 382.790 152.179,382.903 152.123,382.903 151.841 C 382.903 151.615,383.016 151.502,383.242 151.502 C 383.503 151.502,383.576 151.396,383.561 151.037 C 383.548 150.733,383.513 150.678,383.462 150.877 C 383.346 151.323,382.997 151.129,382.932 150.583 C 382.870 150.048,383.455 149.302,383.937 149.302 C 384.379 149.302,385.741 147.989,385.947 147.365 C 386.120 146.841,387.809 145.070,388.136 145.070 C 388.224 145.070,388.329 145.241,388.370 145.451 C 388.410 145.660,388.453 145.355,388.466 144.774 C 388.484 143.956,388.547 143.716,388.743 143.716 C 388.883 143.716,388.997 143.792,388.997 143.885 C 388.997 143.978,388.916 144.054,388.818 144.054 C 388.719 144.054,388.686 144.130,388.743 144.223 C 388.920 144.510,389.166 144.411,389.166 144.054 C 389.166 143.828,389.279 143.716,389.505 143.716 C 389.787 143.716,389.843 143.603,389.843 143.039 C 389.843 142.474,389.900 142.361,390.182 142.361 C 390.464 142.361,390.521 142.249,390.521 141.684 C 390.521 141.120,390.577 141.007,390.859 141.007 C 391.045 141.007,391.198 140.938,391.198 140.854 C 391.198 140.769,391.053 140.738,390.876 140.784 C 390.070 140.995,390.283 139.279,391.291 137.426 C 391.426 137.179,391.537 136.760,391.538 136.495 C 391.540 135.863,392.561 134.832,393.056 134.961 C 393.368 135.043,393.398 134.970,393.398 134.136 C 393.398 133.333,393.440 133.220,393.737 133.220 C 394.038 133.220,394.075 133.108,394.075 132.205 C 394.075 131.302,394.113 131.189,394.414 131.189 C 394.718 131.189,394.752 131.076,394.752 130.089 C 394.752 129.101,394.787 128.989,395.091 128.989 C 395.392 128.989,395.430 128.876,395.430 127.973 C 395.430 127.070,395.467 126.957,395.768 126.957 C 396.084 126.957,396.107 126.844,396.107 125.264 C 396.107 123.685,396.084 123.572,395.768 123.572 C 395.582 123.572,395.430 123.463,395.430 123.329 C 395.430 123.190,395.230 123.063,394.964 123.033 C 394.268 122.953,394.215 122.060,394.869 121.416 L 395.345 120.948 395.386 115.446 C 395.408 112.421,395.427 109.850,395.428 109.733 C 395.429 109.586,395.759 109.522,396.509 109.522 C 397.212 109.522,397.655 109.442,397.779 109.292 C 397.919 109.124,397.958 103.250,397.927 87.328 L 397.884 65.595 396.657 65.545 L 395.430 65.495 395.427 59.959 C 395.425 54.144,395.388 53.661,394.949 53.661 C 394.744 53.661,394.770 53.596,395.053 53.397 C 395.611 53.007,395.646 47.905,395.091 47.905 C 394.768 47.905,394.752 47.792,394.752 45.451 C 394.752 43.109,394.737 42.996,394.414 42.996 C 394.228 42.996,394.075 42.931,394.075 42.850 C 394.075 42.770,393.887 42.741,393.658 42.784 C 392.894 42.931,392.213 42.033,392.213 40.878 C 392.213 40.174,392.123 39.803,391.875 39.488 C 391.689 39.251,391.536 38.809,391.536 38.505 C 391.536 38.201,391.291 37.469,390.992 36.877 C 390.476 35.859,390.449 35.714,390.488 34.152 C 390.527 32.593,390.510 32.501,390.186 32.501 C 389.899 32.501,389.843 32.391,389.843 31.824 C 389.843 31.260,389.787 31.147,389.505 31.147 C 389.279 31.147,389.166 31.034,389.166 30.808 C 389.166 30.583,389.053 30.470,388.828 30.470 C 388.583 30.470,388.489 30.357,388.489 30.062 C 388.489 29.758,388.414 29.674,388.193 29.732 C 387.802 29.832,386.238 28.357,385.997 27.661 C 385.764 26.983,384.283 25.570,383.801 25.565 C 383.225 25.559,382.903 24.937,382.903 23.830 C 382.903 23.074,382.846 22.852,382.649 22.852 C 382.343 22.852,382.322 23.050,382.598 23.326 C 382.756 23.484,382.662 23.529,382.175 23.529 C 381.795 23.529,381.543 23.446,381.533 23.318 C 381.525 23.201,381.506 22.878,381.491 22.598 C 381.464 22.094,381.456 22.090,380.375 22.049 C 379.559 22.017,379.196 21.922,378.926 21.668 C 378.727 21.481,378.414 21.329,378.229 21.329 C 378.045 21.329,377.596 21.024,377.232 20.652 C 376.664 20.069,376.469 19.975,375.844 19.975 C 375.291 19.975,375.116 19.910,375.116 19.705 C 375.116 19.556,374.964 19.395,374.778 19.347 C 374.193 19.194,374.377 18.790,375.032 18.790 C 375.358 18.790,375.615 18.847,375.604 18.917 C 375.537 19.341,375.672 19.465,376.174 19.441 C 376.686 19.418,376.692 19.411,376.259 19.346 C 375.936 19.297,375.793 19.175,375.793 18.948 C 375.793 18.679,375.673 18.620,375.116 18.620 C 374.552 18.620,374.439 18.564,374.439 18.282 C 374.439 18.053,374.326 17.943,374.091 17.943 C 373.898 17.943,373.790 18.020,373.849 18.115 C 373.907 18.210,374.026 18.244,374.112 18.190 C 374.199 18.136,374.270 18.211,374.270 18.356 C 374.270 18.783,372.553 18.723,372.154 18.282 C 371.929 18.033,371.633 17.943,371.040 17.943 C 370.380 17.943,370.171 17.866,369.899 17.520 C 369.641 17.191,369.411 17.097,368.871 17.097 C 367.769 17.097,367.935 16.623,369.065 16.546 C 369.554 16.513,369.140 16.479,368.145 16.470 C 366.339 16.454,365.884 16.366,366.067 16.070 C 366.185 15.879,367.499 15.856,367.499 16.045 C 367.499 16.118,367.651 16.178,367.837 16.178 C 368.024 16.178,368.176 16.080,368.176 15.960 C 368.176 15.807,367.875 15.743,367.160 15.743 C 366.258 15.743,366.145 15.705,366.145 15.404 C 366.145 15.067,366.046 15.066,335.294 15.107 L 304.444 15.149 335.139 15.193 C 359.569 15.227,365.820 15.279,365.764 15.447 C 365.623 15.870,303.811 15.828,303.428 15.405 C 303.184 15.134,302.907 15.066,302.066 15.066 C 300.851 15.066,300.755 14.960,300.915 13.792 C 301.011 13.099,300.989 13.034,300.658 13.034 C 300.409 13.034,300.296 12.929,300.296 12.696 C 300.296 12.466,300.183 12.357,299.945 12.357 C 299.709 12.357,299.612 12.265,299.649 12.075 C 299.727 11.675,300.083 11.602,300.178 11.967 C 300.238 12.201,300.262 12.180,300.277 11.879 C 300.294 11.525,300.232 11.490,299.675 11.538 C 299.070 11.590,298.728 11.324,299.102 11.093 C 299.200 11.033,299.281 11.064,299.281 11.162 C 299.281 11.261,299.357 11.342,299.450 11.342 C 299.543 11.342,299.619 11.217,299.619 11.065 C 299.619 10.841,299.492 10.806,298.942 10.880 C 298.570 10.930,298.265 10.907,298.265 10.830 C 298.265 10.532,297.713 10.157,297.274 10.157 C 296.938 10.157,296.547 9.885,295.810 9.141 C 295.190 8.514,294.663 8.125,294.434 8.125 C 293.932 8.125,293.187 7.208,293.187 6.589 C 293.187 6.070,293.740 5.857,293.921 6.306 C 293.972 6.432,294.012 6.398,294.020 6.221 C 294.028 6.033,293.909 5.925,293.694 5.925 C 293.469 5.925,293.356 5.812,293.356 5.586 C 293.356 5.304,293.243 5.248,292.679 5.248 C 292.115 5.248,292.002 5.191,292.002 4.909 C 292.002 4.683,291.889 4.570,291.663 4.570 C 291.428 4.570,291.321 4.454,291.314 4.190 L 291.303 3.809 291.150 4.190 C 290.961 4.659,290.747 4.670,290.309 4.232 C 290.123 4.046,289.795 3.893,289.582 3.893 C 289.351 3.893,288.924 3.618,288.532 3.216 C 288.168 2.844,287.720 2.539,287.537 2.539 C 287.354 2.539,287.057 2.406,286.877 2.243 C 286.609 1.999,286.118 1.932,284.119 1.862 C 282.013 1.789,281.708 1.743,281.844 1.523 C 281.967 1.325,282.526 1.249,284.420 1.176 L 286.839 1.082 284.173 1.049 L 281.507 1.016 281.507 1.777 M280.829 2.962 C 280.829 3.102,280.715 3.216,280.576 3.216 C 280.311 3.216,280.240 3.016,280.434 2.821 C 280.629 2.626,280.829 2.698,280.829 2.962 M291.618 5.060 C 291.604 5.247,291.503 5.345,291.375 5.295 C 291.134 5.203,291.092 5.028,291.268 4.853 C 291.479 4.642,291.642 4.739,291.618 5.060 M292.679 5.581 C 292.679 5.671,292.793 5.701,292.933 5.647 C 293.097 5.584,293.187 5.651,293.187 5.835 C 293.187 6.069,293.086 6.099,292.636 6.003 C 291.940 5.853,291.803 5.771,291.924 5.574 C 292.053 5.366,292.679 5.371,292.679 5.581 M281.450 9.733 C 281.450 9.873,281.395 9.987,281.327 9.987 C 281.260 9.987,281.160 9.873,281.107 9.733 C 281.051 9.588,281.103 9.479,281.230 9.479 C 281.351 9.479,281.450 9.594,281.450 9.733 M282.184 11.082 C 282.184 11.234,282.084 11.293,281.930 11.233 C 281.790 11.180,281.676 11.068,281.676 10.985 C 281.676 10.902,281.790 10.834,281.930 10.834 C 282.069 10.834,282.184 10.946,282.184 11.082 M301.632 14.092 C 301.743 14.394,301.909 14.476,302.431 14.488 L 303.089 14.502 302.455 14.436 C 301.962 14.384,301.820 14.295,301.820 14.040 C 301.820 13.859,301.746 13.711,301.656 13.711 C 301.557 13.711,301.548 13.863,301.632 14.092 M282.184 15.489 C 282.184 15.714,266.893 15.743,145.583 15.743 C 24.230 15.743,8.993 15.714,9.080 15.489 C 9.166 15.263,24.500 15.235,145.680 15.235 C 266.904 15.235,282.184 15.263,282.184 15.489 M371.265 17.214 C 371.428 17.256,371.695 17.256,371.858 17.214 C 372.021 17.171,371.887 17.136,371.562 17.136 C 371.236 17.136,371.102 17.171,371.265 17.214 M302.908 20.918 C 303.054 21.064,303.174 21.254,303.174 21.341 C 303.174 21.436,307.313 21.498,313.643 21.498 C 323.897 21.498,324.118 21.505,324.418 21.837 C 324.675 22.121,324.939 22.175,326.068 22.175 C 327.270 22.175,327.422 22.211,327.501 22.514 C 327.568 22.770,327.732 22.852,328.178 22.852 C 328.619 22.852,328.788 22.935,328.852 23.182 C 328.914 23.417,329.113 23.526,329.546 23.563 C 330.082 23.608,330.172 23.684,330.305 24.201 C 330.388 24.523,330.602 24.889,330.780 25.014 C 330.973 25.149,331.105 25.440,331.105 25.734 C 331.105 26.053,331.224 26.290,331.443 26.407 C 331.682 26.535,331.782 26.762,331.782 27.175 C 331.782 27.599,331.856 27.761,332.051 27.761 C 332.200 27.761,332.359 27.907,332.406 28.084 C 332.452 28.262,332.635 28.445,332.813 28.492 C 333.053 28.554,333.136 28.728,333.136 29.165 C 333.136 29.611,333.218 29.775,333.474 29.842 C 333.732 29.909,333.813 30.073,333.813 30.527 C 333.813 30.975,333.897 31.151,334.152 31.231 C 334.406 31.312,334.490 31.488,334.490 31.936 C 334.490 32.381,334.572 32.554,334.813 32.617 C 334.991 32.664,335.180 32.866,335.234 33.067 C 335.419 33.758,335.348 84.977,335.161 85.326 C 334.944 85.732,291.255 85.855,290.851 85.451 C 290.473 85.073,290.565 21.055,290.944 20.835 C 291.483 20.520,302.588 20.597,302.908 20.918 M380.195 21.583 C 380.311 21.722,380.472 21.837,380.554 21.837 C 380.636 21.837,380.702 21.722,380.702 21.583 C 380.702 21.437,380.550 21.329,380.343 21.329 C 380.043 21.329,380.019 21.371,380.195 21.583 M381.127 22.315 C 381.081 22.361,381.129 22.500,381.233 22.625 C 381.380 22.803,381.343 22.852,381.062 22.852 C 380.826 22.852,380.702 22.745,380.702 22.542 C 380.702 22.371,380.817 22.232,380.956 22.232 C 381.096 22.232,381.173 22.269,381.127 22.315 M383.244 23.656 C 383.252 24.027,383.575 24.274,383.578 23.910 C 383.579 23.701,383.504 23.529,383.411 23.529 C 383.318 23.529,383.243 23.587,383.244 23.656 M1.862 24.630 C 1.862 24.769,1.752 24.884,1.618 24.884 C 1.335 24.884,1.144 24.642,1.302 24.484 C 1.505 24.282,1.862 24.375,1.862 24.630 M267.795 25.222 C 267.981 25.408,268.315 25.561,268.537 25.561 C 269.847 25.561,270.672 29.173,269.657 30.470 C 269.395 30.805,269.325 31.164,269.322 32.199 C 269.319 33.416,269.283 33.546,268.793 34.103 L 268.268 34.702 141.940 34.702 L 15.612 34.702 15.297 34.236 C 14.171 32.576,14.029 31.800,14.626 30.566 C 14.872 30.060,14.980 29.627,14.903 29.466 C 14.833 29.320,14.650 28.960,14.497 28.666 C 14.150 27.999,14.138 27.024,14.473 26.746 C 14.613 26.630,14.727 26.398,14.727 26.230 C 14.727 26.062,14.924 25.691,15.165 25.404 L 15.604 24.884 141.530 24.884 C 267.231 24.884,267.457 24.884,267.795 25.222 M335.844 25.222 C 335.950 25.420,336.199 25.561,336.443 25.561 C 336.672 25.561,337.002 25.703,337.175 25.876 C 337.349 26.050,337.759 26.242,338.088 26.303 C 338.482 26.377,338.714 26.529,338.772 26.750 C 338.838 27.003,339.004 27.084,339.456 27.084 C 339.905 27.084,340.080 27.169,340.161 27.423 C 340.240 27.673,340.417 27.761,340.838 27.761 C 341.259 27.761,341.436 27.850,341.515 28.100 C 341.605 28.385,341.771 28.438,342.558 28.438 C 343.351 28.438,343.507 28.490,343.582 28.777 C 343.649 29.034,343.813 29.116,344.259 29.116 C 344.705 29.116,344.869 29.197,344.936 29.454 C 345.002 29.708,345.167 29.793,345.591 29.793 C 345.985 29.793,346.214 29.896,346.339 30.131 C 346.445 30.329,346.694 30.470,346.938 30.470 C 347.167 30.470,347.507 30.622,347.694 30.808 C 347.880 30.994,348.151 31.147,348.297 31.147 C 348.715 31.147,349.217 31.473,349.217 31.745 C 349.217 31.935,349.452 31.993,350.221 31.993 C 351.077 31.993,351.242 32.043,351.333 32.332 C 351.414 32.586,351.589 32.670,352.037 32.670 C 352.492 32.670,352.655 32.751,352.723 33.009 C 352.790 33.266,352.954 33.347,353.400 33.347 C 353.846 33.347,354.010 33.429,354.077 33.686 C 354.144 33.943,354.308 34.025,354.754 34.025 C 355.200 34.025,355.364 34.106,355.431 34.363 C 355.498 34.617,355.662 34.702,356.087 34.702 C 356.480 34.702,356.709 34.805,356.835 35.040 C 356.973 35.300,357.189 35.379,357.758 35.379 C 358.643 35.379,359.035 35.508,359.035 35.798 C 359.035 35.917,359.336 36.061,359.712 36.121 C 360.150 36.191,360.389 36.318,360.389 36.481 C 360.389 36.647,360.559 36.733,360.885 36.733 C 361.365 36.733,361.913 37.100,361.913 37.422 C 361.913 37.509,362.187 37.579,362.521 37.579 C 362.987 37.579,363.150 37.659,363.218 37.918 C 363.285 38.175,363.449 38.256,363.895 38.256 C 364.341 38.256,364.505 38.338,364.572 38.595 C 364.647 38.880,364.803 38.934,365.566 38.934 C 366.298 38.934,366.506 38.998,366.653 39.272 C 366.771 39.493,367.007 39.611,367.334 39.611 C 367.651 39.611,367.912 39.735,368.046 39.949 C 368.162 40.135,368.423 40.288,368.626 40.288 C 369.158 40.288,369.530 40.461,369.530 40.707 C 369.530 40.826,369.831 40.970,370.207 41.030 C 370.645 41.100,370.884 41.227,370.884 41.390 C 370.884 41.556,371.054 41.642,371.380 41.642 C 371.860 41.642,372.408 42.009,372.408 42.331 C 372.408 42.418,372.834 42.488,373.355 42.488 C 374.159 42.488,374.315 42.539,374.390 42.827 C 374.457 43.084,374.621 43.165,375.067 43.165 C 375.514 43.165,375.677 43.247,375.744 43.504 C 375.812 43.761,375.975 43.843,376.422 43.843 C 376.868 43.843,377.032 43.924,377.099 44.181 C 377.165 44.435,377.330 44.520,377.754 44.520 C 378.147 44.520,378.376 44.623,378.502 44.858 C 378.678 45.187,378.856 45.197,384.673 45.197 C 391.812 45.197,391.198 45.054,391.198 46.719 C 391.198 47.908,391.231 48.044,391.549 48.127 C 391.818 48.197,391.887 48.330,391.845 48.697 L 391.790 49.175 385.068 49.219 C 378.484 49.262,378.343 49.256,378.164 48.923 C 378.019 48.652,377.811 48.582,377.143 48.582 C 376.488 48.582,376.258 48.508,376.093 48.244 C 375.976 48.058,375.715 47.905,375.513 47.905 C 374.967 47.905,374.609 47.730,374.609 47.464 C 374.609 47.294,374.373 47.228,373.761 47.228 C 373.122 47.228,372.841 47.144,372.623 46.890 C 372.463 46.703,372.192 46.551,372.021 46.551 C 371.561 46.551,371.054 46.237,371.054 45.953 C 371.054 45.781,370.867 45.705,370.445 45.705 C 369.979 45.705,369.816 45.625,369.749 45.366 C 369.681 45.109,369.518 45.028,369.071 45.028 C 368.625 45.028,368.461 44.946,368.394 44.689 C 368.328 44.435,368.163 44.350,367.739 44.350 C 367.346 44.350,367.117 44.247,366.991 44.012 C 366.852 43.752,366.637 43.673,366.068 43.673 C 365.165 43.673,364.791 43.544,364.791 43.232 C 364.791 43.074,364.589 42.996,364.182 42.996 C 363.716 42.996,363.553 42.917,363.485 42.658 C 363.423 42.417,363.254 42.319,362.907 42.319 C 362.627 42.319,362.293 42.174,362.127 41.981 C 361.968 41.794,361.697 41.642,361.526 41.642 C 361.066 41.642,360.559 41.328,360.559 41.044 C 360.559 40.872,360.372 40.796,359.950 40.796 C 359.484 40.796,359.321 40.716,359.253 40.457 C 359.178 40.167,359.023 40.118,358.180 40.118 C 357.345 40.118,357.180 40.067,357.088 39.780 C 357.009 39.530,356.832 39.441,356.411 39.441 C 355.990 39.441,355.814 39.353,355.734 39.103 C 355.654 38.849,355.478 38.764,355.030 38.764 C 354.575 38.764,354.412 38.684,354.344 38.426 C 354.277 38.169,354.114 38.087,353.667 38.087 C 353.221 38.087,353.057 38.005,352.990 37.749 C 352.924 37.495,352.759 37.410,352.335 37.410 C 351.941 37.410,351.713 37.307,351.587 37.072 C 351.447 36.811,351.233 36.733,350.650 36.733 C 350.120 36.733,349.793 36.632,349.556 36.394 C 349.369 36.208,349.061 36.056,348.870 36.056 C 348.680 36.056,348.347 35.865,348.132 35.633 C 347.877 35.358,347.557 35.209,347.220 35.209 C 346.849 35.209,346.670 35.113,346.593 34.871 C 346.514 34.621,346.337 34.532,345.916 34.532 C 345.495 34.532,345.319 34.444,345.239 34.194 C 345.158 33.940,344.983 33.855,344.535 33.855 C 344.080 33.855,343.917 33.775,343.849 33.517 C 343.774 33.230,343.618 33.178,342.834 33.178 C 342.049 33.178,341.893 33.126,341.818 32.840 C 341.752 32.586,341.587 32.501,341.163 32.501 C 340.769 32.501,340.541 32.398,340.415 32.163 C 340.309 31.965,340.060 31.824,339.816 31.824 C 339.587 31.824,339.247 31.672,339.061 31.485 C 338.874 31.299,338.603 31.147,338.457 31.147 C 338.039 31.147,337.537 30.820,337.537 30.548 C 337.537 30.412,337.385 30.300,337.198 30.300 C 337.002 30.300,336.860 30.188,336.860 30.031 C 336.860 29.882,336.708 29.721,336.521 29.672 C 336.256 29.603,336.183 29.442,336.183 28.927 C 336.183 28.462,336.110 28.269,335.935 28.269 C 335.663 28.269,335.336 27.767,335.336 27.349 C 335.336 27.203,335.184 26.932,334.998 26.746 C 334.421 26.169,334.655 24.884,335.336 24.884 C 335.516 24.884,335.745 25.036,335.844 25.222 M79.010 25.518 C 113.481 25.542,169.888 25.542,204.359 25.518 C 238.830 25.495,210.626 25.476,141.684 25.476 C 72.742 25.476,44.539 25.495,79.010 25.518 M389.571 31.584 C 389.708 31.940,389.710 31.937,389.433 31.937 C 389.300 31.937,389.202 31.797,389.215 31.626 C 389.244 31.245,389.433 31.223,389.571 31.584 M15.421 31.720 C 15.271 31.900,15.285 31.976,15.484 32.053 C 15.662 32.121,15.743 32.048,15.743 31.819 C 15.743 31.424,15.681 31.405,15.421 31.720 M390.349 33.220 C 390.350 33.290,390.237 33.347,390.097 33.347 C 389.838 33.347,389.751 32.989,389.959 32.781 C 390.072 32.667,390.344 32.973,390.349 33.220 M62.502 57.385 C 62.659 57.635,62.897 57.723,63.421 57.723 C 64.290 57.723,64.664 57.856,64.664 58.165 C 64.664 58.310,64.845 58.400,65.138 58.400 C 66.265 58.400,68.887 61.828,68.893 63.311 C 68.895 63.720,69.001 63.971,69.234 64.116 C 69.768 64.450,69.768 110.412,69.234 110.746 C 68.992 110.897,68.892 111.150,68.883 111.636 C 68.859 112.904,67.325 115.330,66.314 115.699 C 66.151 115.759,66.018 115.890,66.018 115.989 C 66.018 116.247,65.484 116.620,65.105 116.626 C 64.929 116.629,64.696 116.753,64.587 116.902 C 64.472 117.061,64.041 117.210,63.553 117.260 C 63.067 117.310,62.625 117.463,62.498 117.624 C 62.117 118.106,24.182 118.131,23.701 117.649 C 23.475 117.423,23.136 117.309,22.694 117.309 C 22.153 117.309,22.006 117.238,21.908 116.928 C 21.696 116.257,21.257 115.796,20.821 115.786 C 20.274 115.775,18.620 114.127,18.620 113.595 C 18.620 113.381,18.328 112.930,17.943 112.549 C 17.388 111.999,17.266 111.762,17.266 111.231 C 17.266 110.839,17.132 110.413,16.928 110.153 C 16.394 109.475,16.394 65.388,16.928 64.710 C 17.133 64.448,17.266 64.023,17.266 63.627 C 17.266 63.157,17.361 62.914,17.605 62.762 C 17.791 62.646,17.943 62.458,17.943 62.344 C 17.943 62.230,18.096 62.055,18.282 61.955 C 18.472 61.854,18.620 61.601,18.620 61.380 C 18.620 60.806,20.260 59.123,20.890 59.050 C 21.261 59.007,21.464 58.836,21.711 58.358 C 22.010 57.779,22.101 57.723,22.744 57.723 C 23.265 57.723,23.503 57.635,23.659 57.385 C 23.869 57.049,24.054 57.046,43.081 57.046 C 62.107 57.046,62.293 57.049,62.502 57.385 M233.048 57.385 C 233.252 57.623,233.548 57.723,234.044 57.723 C 234.525 57.723,234.782 57.807,234.851 57.985 C 234.906 58.129,235.181 58.327,235.461 58.425 C 235.742 58.523,235.971 58.704,235.971 58.829 C 235.971 58.953,236.124 59.103,236.310 59.162 C 236.496 59.221,236.648 59.386,236.648 59.528 C 236.648 59.670,236.798 59.825,236.981 59.873 C 237.164 59.921,237.360 60.105,237.416 60.281 C 237.472 60.457,237.622 60.601,237.749 60.601 C 237.876 60.601,238.026 60.746,238.082 60.924 C 238.139 61.101,238.292 61.288,238.423 61.338 C 238.554 61.388,238.711 61.695,238.772 62.019 C 238.832 62.343,238.978 62.646,239.095 62.691 C 239.213 62.736,239.356 63.008,239.413 63.296 C 239.471 63.585,239.673 64.030,239.862 64.286 C 240.345 64.938,240.327 110.412,239.844 110.765 C 239.694 110.875,239.515 111.217,239.448 111.525 C 239.380 111.832,239.218 112.125,239.087 112.175 C 238.956 112.225,238.849 112.442,238.849 112.657 C 238.849 112.872,238.678 113.249,238.468 113.494 C 237.781 114.300,236.956 115.108,236.820 115.108 C 236.747 115.108,236.648 115.260,236.599 115.446 C 236.551 115.633,236.389 115.785,236.241 115.785 C 236.093 115.785,235.971 115.903,235.971 116.048 C 235.971 116.192,235.741 116.391,235.460 116.489 C 235.179 116.587,234.871 116.811,234.777 116.988 C 234.653 117.220,234.419 117.309,233.934 117.309 C 233.489 117.309,233.149 117.422,232.924 117.647 C 232.590 117.982,232.362 117.986,213.754 117.983 C 194.770 117.981,194.160 117.967,194.160 117.543 C 194.160 117.377,193.932 117.309,193.385 117.309 C 192.692 117.309,192.529 117.228,191.848 116.547 C 191.421 116.120,190.927 115.785,190.725 115.785 C 190.289 115.785,188.815 114.233,188.659 113.609 C 188.599 113.373,188.327 112.925,188.054 112.614 C 187.637 112.138,187.558 111.905,187.558 111.134 C 187.558 110.631,187.482 110.172,187.389 110.114 C 187.174 109.981,187.153 64.894,187.368 64.761 C 187.450 64.710,187.550 64.211,187.591 63.650 C 187.649 62.844,187.757 62.535,188.107 62.167 C 188.351 61.911,188.600 61.496,188.662 61.246 C 188.816 60.623,190.324 59.077,190.778 59.077 C 190.982 59.077,191.415 58.782,191.771 58.400 C 192.347 57.782,192.477 57.723,193.261 57.723 C 193.978 57.723,194.135 57.667,194.209 57.385 C 194.297 57.049,194.440 57.046,213.528 57.046 C 232.549 57.046,232.761 57.050,233.048 57.385 M25.349 61.631 C 25.186 61.809,24.881 61.955,24.670 61.955 C 24.460 61.955,24.193 62.107,24.077 62.294 C 23.960 62.480,23.793 62.632,23.706 62.632 C 23.386 62.632,22.728 63.411,22.526 64.029 C 22.412 64.378,22.257 64.664,22.183 64.664 C 22.109 64.664,22.000 64.906,21.940 65.203 C 21.881 65.499,21.700 65.888,21.538 66.067 C 21.086 66.566,21.081 108.608,21.534 108.861 C 21.693 108.950,21.872 109.285,21.932 109.605 C 21.992 109.925,22.148 110.275,22.278 110.383 C 22.407 110.491,22.514 110.730,22.514 110.914 C 22.514 111.201,23.026 111.785,24.037 112.650 C 24.177 112.769,24.544 112.921,24.853 112.988 C 25.162 113.054,25.455 113.216,25.506 113.346 C 25.676 113.791,60.324 113.692,60.770 113.246 C 60.997 113.019,61.334 112.907,61.792 112.907 C 62.623 112.907,64.833 110.878,64.833 110.114 C 64.833 109.876,64.975 109.627,65.171 109.522 C 65.689 109.245,65.708 65.530,65.191 65.395 C 64.990 65.342,64.840 65.110,64.784 64.765 C 64.633 63.838,62.614 61.955,61.770 61.955 C 61.334 61.955,60.993 61.840,60.770 61.617 C 60.250 61.096,25.825 61.110,25.349 61.631 M195.937 61.617 C 195.769 61.803,195.469 61.955,195.272 61.955 C 195.074 61.955,194.782 62.107,194.622 62.294 C 194.452 62.493,194.123 62.632,193.823 62.632 C 193.494 62.632,193.314 62.718,193.314 62.875 C 193.314 63.008,193.161 63.166,192.975 63.225 C 192.763 63.292,192.636 63.481,192.636 63.730 C 192.636 64.289,192.468 64.664,192.217 64.664 C 192.098 64.664,191.955 64.965,191.894 65.341 C 191.824 65.779,191.697 66.018,191.534 66.018 C 191.312 66.018,191.282 68.585,191.282 87.431 C 191.282 106.056,191.314 108.845,191.529 108.845 C 191.679 108.845,191.821 109.091,191.893 109.479 C 191.958 109.829,192.152 110.214,192.324 110.335 C 192.496 110.457,192.636 110.739,192.636 110.963 C 192.636 111.478,193.378 112.230,193.888 112.230 C 194.102 112.230,194.415 112.383,194.583 112.569 C 194.752 112.755,195.020 112.907,195.179 112.907 C 195.338 112.907,195.662 113.060,195.899 113.246 C 196.462 113.689,231.231 113.791,231.231 113.350 C 231.231 113.115,231.722 112.914,232.307 112.910 C 232.725 112.907,234.770 110.720,234.779 110.267 C 234.783 110.072,234.939 109.736,235.125 109.522 C 235.460 109.136,235.463 108.888,235.463 87.404 C 235.463 65.885,235.460 65.673,235.125 65.386 C 234.939 65.227,234.786 64.935,234.786 64.738 C 234.786 64.217,232.648 61.955,232.155 61.955 C 231.591 61.955,231.231 61.783,231.231 61.514 C 231.231 61.071,196.339 61.172,195.937 61.617 M397.371 64.790 C 398.179 64.825,398.772 64.930,398.850 65.052 C 398.938 65.191,398.980 65.162,398.982 64.960 C 398.984 64.697,398.815 64.667,397.503 64.698 L 396.022 64.732 397.371 64.790 M335.070 89.475 C 335.477 89.882,335.477 141.688,335.070 142.095 C 334.924 142.242,334.734 142.361,334.647 142.361 C 334.561 142.361,334.490 142.787,334.490 143.308 C 334.490 144.113,334.439 144.268,334.152 144.344 C 333.886 144.413,333.813 144.575,333.813 145.090 C 333.813 145.634,333.755 145.747,333.474 145.747 C 333.201 145.747,333.136 145.860,333.136 146.333 C 333.136 146.747,333.036 146.973,332.797 147.101 C 332.561 147.228,332.459 147.456,332.459 147.857 C 332.459 148.284,332.371 148.460,332.120 148.540 C 331.908 148.607,331.782 148.796,331.782 149.045 C 331.782 149.612,331.612 149.979,331.351 149.979 C 331.212 149.979,331.105 150.224,331.072 150.614 L 331.020 151.248 330.099 151.301 C 329.381 151.341,329.094 151.444,328.795 151.766 C 328.585 151.993,328.256 152.179,328.066 152.179 C 327.875 152.179,327.567 152.332,327.380 152.518 C 327.106 152.793,326.816 152.857,325.841 152.857 C 324.897 152.857,324.549 152.929,324.210 153.195 C 323.791 153.525,323.524 153.534,313.483 153.534 C 303.359 153.534,303.183 153.539,303.005 153.872 C 302.783 154.286,291.257 154.414,290.851 154.008 C 290.473 153.630,290.565 89.612,290.944 89.391 C 291.497 89.069,334.747 89.151,335.070 89.475 M396.575 110.152 C 396.879 110.190,397.336 110.189,397.591 110.151 C 397.845 110.112,397.596 110.081,397.038 110.082 C 396.479 110.083,396.271 110.115,396.575 110.152 M391.547 125.778 C 392.034 126.039,392.033 128.069,391.546 128.224 C 391.313 128.298,391.202 128.511,391.165 128.955 L 391.113 129.581 384.903 129.625 C 378.874 129.669,378.690 129.680,378.586 130.006 C 378.506 130.257,378.329 130.343,377.893 130.343 C 377.489 130.343,377.272 130.435,377.197 130.639 C 377.054 131.027,376.810 131.183,376.344 131.187 C 376.134 131.188,375.810 131.342,375.624 131.528 C 375.438 131.714,375.114 131.866,374.903 131.866 C 374.693 131.866,374.426 132.019,374.309 132.205 C 374.144 132.469,373.915 132.543,373.259 132.543 C 372.593 132.543,372.382 132.613,372.239 132.882 C 372.113 133.117,371.884 133.220,371.491 133.220 C 371.066 133.220,370.902 133.306,370.835 133.559 C 370.768 133.816,370.605 133.898,370.158 133.898 C 369.712 133.898,369.548 133.979,369.481 134.236 C 369.414 134.493,369.250 134.575,368.804 134.575 C 368.358 134.575,368.194 134.657,368.127 134.913 C 368.060 135.171,367.896 135.252,367.442 135.252 C 366.993 135.252,366.818 135.336,366.737 135.590 C 366.646 135.879,366.481 135.929,365.625 135.929 C 364.856 135.929,364.621 135.987,364.621 136.177 C 364.621 136.449,364.119 136.775,363.701 136.775 C 363.556 136.775,363.284 136.928,363.098 137.114 C 362.912 137.300,362.571 137.452,362.342 137.452 C 362.098 137.452,361.850 137.593,361.744 137.791 C 361.618 138.026,361.389 138.129,360.996 138.129 C 360.571 138.129,360.407 138.215,360.340 138.468 C 360.273 138.725,360.109 138.807,359.663 138.807 C 359.217 138.807,359.053 138.888,358.986 139.145 C 358.911 139.432,358.755 139.484,357.957 139.484 C 357.189 139.484,356.982 139.546,356.835 139.822 C 356.714 140.048,356.480 140.161,356.136 140.161 C 355.760 140.161,355.594 140.254,355.529 140.499 C 355.460 140.765,355.298 140.838,354.783 140.838 C 354.319 140.838,354.126 140.911,354.126 141.086 C 354.126 141.358,353.624 141.684,353.206 141.684 C 353.060 141.684,352.789 141.837,352.603 142.023 C 352.416 142.209,352.076 142.361,351.847 142.361 C 351.603 142.361,351.354 142.502,351.248 142.700 C 351.101 142.975,350.894 143.039,350.142 143.039 C 349.464 143.039,349.217 143.102,349.217 143.274 C 349.217 143.545,348.857 143.716,348.284 143.716 C 348.034 143.716,347.846 143.842,347.778 144.054 C 347.699 144.305,347.522 144.393,347.096 144.393 C 346.694 144.393,346.466 144.495,346.339 144.731 C 346.212 144.970,345.985 145.070,345.572 145.070 C 345.098 145.070,344.985 145.135,344.985 145.408 C 344.985 145.689,344.872 145.747,344.328 145.747 C 343.813 145.747,343.651 145.820,343.582 146.085 C 343.507 146.373,343.351 146.424,342.547 146.424 C 341.828 146.424,341.600 146.484,341.600 146.672 C 341.600 146.956,341.092 147.270,340.633 147.270 C 340.461 147.270,340.190 147.423,340.031 147.609 C 339.860 147.808,339.531 147.948,339.231 147.948 C 338.909 147.948,338.722 148.034,338.722 148.183 C 338.722 148.450,338.364 148.625,337.818 148.625 C 337.615 148.625,337.354 148.777,337.238 148.963 C 336.945 149.432,335.761 149.441,335.512 148.975 C 335.292 148.565,335.441 148.160,335.860 148.027 C 336.097 147.952,336.183 147.766,336.183 147.328 C 336.183 146.873,336.264 146.710,336.521 146.642 C 336.778 146.575,336.860 146.411,336.860 145.965 C 336.860 145.525,336.943 145.355,337.189 145.291 C 337.426 145.229,337.533 145.030,337.570 144.587 C 337.618 144.010,337.662 143.966,338.239 143.918 C 338.683 143.881,338.881 143.774,338.943 143.537 C 339.008 143.288,339.177 143.208,339.637 143.208 C 339.972 143.208,340.245 143.137,340.245 143.051 C 340.245 142.729,340.793 142.361,341.273 142.361 C 341.584 142.361,341.769 142.273,341.769 142.126 C 341.769 141.813,342.144 141.684,343.052 141.684 C 343.579 141.684,343.800 141.614,343.800 141.448 C 343.800 141.182,344.159 141.007,344.704 141.007 C 344.907 141.007,345.168 140.855,345.284 140.669 C 345.418 140.454,345.679 140.330,345.996 140.330 C 346.324 140.330,346.559 140.213,346.678 139.992 C 346.804 139.756,347.032 139.653,347.426 139.653 C 347.850 139.653,348.015 139.568,348.081 139.314 C 348.148 139.058,348.312 138.976,348.758 138.976 C 349.205 138.976,349.368 138.894,349.435 138.637 C 349.511 138.350,349.666 138.299,350.471 138.299 C 350.992 138.299,351.418 138.228,351.418 138.142 C 351.418 137.820,351.966 137.452,352.445 137.452 C 352.766 137.452,352.941 137.366,352.941 137.206 C 352.941 137.055,353.187 136.914,353.576 136.842 C 353.925 136.777,354.310 136.583,354.432 136.411 C 354.554 136.238,354.858 136.098,355.111 136.098 C 355.385 136.098,355.653 135.963,355.780 135.760 C 355.914 135.545,356.174 135.421,356.491 135.421 C 356.819 135.421,357.055 135.304,357.173 135.083 C 357.320 134.809,357.528 134.744,358.260 134.744 C 359.023 134.744,359.179 134.691,359.253 134.405 C 359.321 134.148,359.484 134.067,359.939 134.067 C 360.387 134.067,360.563 133.983,360.643 133.728 C 360.723 133.478,360.899 133.390,361.320 133.390 C 361.741 133.390,361.918 133.301,361.997 133.051 C 362.078 132.798,362.254 132.713,362.691 132.713 C 363.095 132.713,363.312 132.621,363.387 132.416 C 363.530 132.028,363.774 131.872,364.240 131.869 C 364.450 131.867,364.774 131.714,364.960 131.528 C 365.197 131.290,365.524 131.189,366.054 131.189 C 366.637 131.189,366.851 131.112,366.991 130.851 C 367.117 130.616,367.346 130.512,367.739 130.512 C 368.163 130.512,368.328 130.427,368.394 130.174 C 368.461 129.917,368.625 129.835,369.071 129.835 C 369.518 129.835,369.681 129.753,369.749 129.496 C 369.816 129.239,369.979 129.158,370.434 129.158 C 370.882 129.158,371.058 129.074,371.138 128.819 C 371.218 128.569,371.395 128.481,371.815 128.481 C 372.236 128.481,372.413 128.392,372.493 128.142 C 372.583 127.859,372.749 127.804,373.514 127.804 C 374.254 127.804,374.462 127.739,374.609 127.465 C 374.736 127.227,374.963 127.127,375.376 127.127 C 375.778 127.127,375.963 127.049,375.963 126.879 C 375.963 126.529,376.506 126.280,377.268 126.280 C 377.709 126.280,378.012 126.171,378.209 125.942 C 378.542 125.553,390.844 125.402,391.547 125.778 M268.793 140.928 C 269.279 141.481,269.319 141.621,269.319 142.768 C 269.319 143.752,269.389 144.097,269.657 144.439 C 270.665 145.720,269.900 149.302,268.618 149.302 C 268.302 149.302,267.973 149.457,267.725 149.725 L 267.333 150.148 141.570 150.148 L 15.806 150.148 15.376 149.683 C 14.499 148.732,13.939 146.955,14.373 146.500 C 14.945 145.901,15.032 145.134,14.624 144.292 C 14.031 143.067,14.255 141.862,15.290 140.711 L 15.632 140.330 141.950 140.330 L 268.268 140.330 268.793 140.928 M79.193 140.965 C 113.765 140.988,170.286 140.988,204.796 140.965 C 239.306 140.941,211.020 140.922,141.938 140.922 C 72.857 140.922,44.621 140.941,79.193 140.965 M390.243 141.938 C 390.190 142.078,390.078 142.192,389.995 142.192 C 389.911 142.192,389.843 142.078,389.843 141.938 C 389.843 141.799,389.955 141.684,390.092 141.684 C 390.243 141.684,390.303 141.784,390.243 141.938 M15.454 142.945 C 15.293 143.128,15.302 143.197,15.496 143.272 C 15.661 143.335,15.743 143.255,15.743 143.033 C 15.743 142.643,15.724 142.638,15.454 142.945 M389.635 143.240 C 389.531 143.553,389.166 143.605,389.166 143.307 C 389.166 143.159,389.287 143.039,389.434 143.039 C 389.582 143.039,389.672 143.129,389.635 143.240 M15.480 147.116 C 15.417 147.217,15.451 147.385,15.554 147.488 C 15.693 147.627,15.743 147.578,15.743 147.304 C 15.743 146.896,15.655 146.833,15.480 147.116 M79.010 149.429 C 113.481 149.452,169.888 149.452,204.359 149.429 C 238.830 149.405,210.626 149.386,141.684 149.386 C 72.742 149.386,44.539 149.405,79.010 149.429 M382.563 151.849 C 382.251 152.052,381.464 151.986,381.464 151.758 C 381.464 151.666,381.693 151.546,381.972 151.491 C 382.568 151.375,382.943 151.603,382.563 151.849 M381.380 152.329 C 381.380 152.411,381.227 152.518,381.041 152.567 C 380.821 152.625,380.702 152.572,380.702 152.417 C 380.702 152.287,380.855 152.179,381.041 152.179 C 381.227 152.179,381.380 152.247,381.380 152.329 M380.110 153.364 C 380.052 153.457,380.162 153.534,380.354 153.534 C 380.546 153.534,380.702 153.457,380.702 153.364 C 380.702 153.271,380.593 153.195,380.459 153.195 C 380.324 153.195,380.168 153.271,380.110 153.364 M2.539 153.788 C 2.539 153.927,2.438 154.041,2.313 154.041 C 2.189 154.041,2.088 153.927,2.088 153.788 C 2.088 153.648,2.189 153.534,2.313 153.534 C 2.438 153.534,2.539 153.648,2.539 153.788 M374.101 156.713 C 374.101 156.786,373.897 156.862,373.649 156.883 C 372.912 156.944,372.971 157.088,373.734 157.088 C 374.248 157.088,374.439 157.020,374.439 156.835 C 374.439 156.695,374.363 156.581,374.270 156.581 C 374.177 156.581,374.101 156.640,374.101 156.713 M367.612 158.705 C 367.612 158.910,367.446 158.956,366.849 158.916 C 365.761 158.844,365.702 158.443,366.780 158.443 C 367.418 158.443,367.612 158.504,367.612 158.705 M282.184 159.374 C 282.184 159.723,9.130 159.681,9.014 159.331 C 8.958 159.162,36.343 159.120,145.564 159.120 C 266.916 159.120,282.184 159.148,282.184 159.374 M319.721 159.755 C 328.123 159.779,341.873 159.779,350.275 159.755 C 358.678 159.730,351.803 159.710,334.998 159.710 C 318.193 159.710,311.318 159.730,319.721 159.755 M299.342 163.606 C 299.288 163.745,299.176 163.860,299.093 163.860 C 299.010 163.860,298.942 163.745,298.942 163.606 C 298.942 163.466,299.054 163.352,299.191 163.352 C 299.342 163.352,299.401 163.451,299.342 163.606 M280.829 166.681 C 280.829 166.805,280.715 166.906,280.576 166.906 C 280.436 166.906,280.322 166.805,280.322 166.681 C 280.322 166.557,280.436 166.455,280.576 166.455 C 280.715 166.455,280.829 166.557,280.829 166.681',
                fillOpacity: 1,
                fillColor: '#d86f12',
                scale: .09,
                strokeWeight: 1,
                strokeColor: '#d8001b',
                anchor: new google.maps.Point(200, 130),
                rotation: rotation > 0 ? rotation - 90 : (this.markerBus ? this.markerBus.getIcon().rotation : rotation)
            };

            if (this.markerBus) {
                this.markerBus.setPosition(marker.getPosition());
                this.markerBus.setIcon(icon);
            } else {

                this.markerBus = new google.maps.Marker({
                    map: this.map,
                    position: marker.getPosition(),
                    icon: icon,
                    duration: 500,
                    easing: "swing",
                    title: marker.getTitle(),
                    shadow: ""
                });
            }

            if (this.currentLocation) this.currentLocation.infoWindow.close();

            infoWindow.open(this.map, this.markerBus);
            this.currentLocation = historicLocation;

            $('.gm-style-iw-c, .gm-style-iw-d').css('max-height', '300px').css('height', '270px');
        }

        createInfoWindow(r) {
            let infoDispatchRegister = '';
            let height = '200px';
            if (r.dispatchRegister) {
                let dr = r.dispatchRegister;
                infoDispatchRegister = "" +
                    "<small class='text-bold'><i class='fa fa-flag text-muted'></i> @lang('Route'): " + dr.route.name + "</small><br>" +
                    "<small class='text-bold'><i class='fa fa-retweet text-muted'></i> @lang('Round Trip'): " + dr.round_trip + "</small><br>" +
                    "<small class='text-bold'><i class='fa fa-list-ol text-muted'></i> @lang('Turn'): " + dr.turn + "</small><br>" +
                    "<small class='text-bold'><i class='fa fa-clock-o text-muted'></i> @lang('Dispatched'): " + dr.departure_time + "</small><br>" +
                    "<small class='text-bold'><i class='fa fa-user text-muted'></i> @lang('Driver'): " + dr.driver_name + "</small><br>" +
                    "<hr class='hr'>";

                let height = '250px';
            }
            let infoAddress = "";
            if (r.address) {
                infoAddress = "" +
                    "<small class='text-bold'><i class='fa fa-map-o text-muted'></i> " + r.address + "</small><br>" +
                    "";
            }

            let contentString =
                "<div class='historic-info-map' style='width: 200px'>" +
                "<div class='col-md-12' style='height:" + height + "'>" +
                "<div class=''>" +
                "<h5 class='text-info'><i class='fa fa-bus'></i> <b>" + r.vehicle.number + "</b></h5>" +
                infoAddress +
                "<hr class='hr'>" +
                "</div>" +
                "<div class=''>" +
                "<small class='text-bold'><i class='fa fa-calendar text-muted'></i> " + r.date + "</small><br>" +
                "<small class='text-bold'><i class='fa fa-clock-o text-muted'></i> " + r.time + "</small><br>" +
                "<small class='text-bold text-" + (r.speeding ? 'danger' : '') + "'><i class='fa fa-tachometer text-muted'></i> @lang('Speed'): " + r.speed + " Km/h</small><br>" +
                "<small class='text-bold'><i class='fa fa-road text-muted'></i> " + r.currentMileage + " Km</small><br>" +
                "<hr class='hr'>" + infoDispatchRegister +
                "<small class='text-bold text-" + r.vehicleStatus.mainClass + "'><i class='" + r.vehicleStatus.iconClass + "'></i> " + r.vehicleStatus.status + "</small><br>" +
                "</div>" +
                "</div>" +
                "</div>";

            return new google.maps.InfoWindow({
                content: contentString
            });
        }
    }
</script>